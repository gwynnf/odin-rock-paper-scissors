<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <title>Rock Paper Scissor's game</title>
</head>

<body>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button>

    <div></div>

</body>

<script>
    const btns = document.querySelectorAll('button')
    const display = document.querySelector('div')
    display.setAttribute('style', 'white-space: pre')
    let currentScore = [0,0]
    
    btns.forEach(btn =>{
        btn.addEventListener('click', function(){
        let newResult = playRound(btn.getAttribute("id"), getComputerChoice())
        console.log("Current Score: ", currentScore)
        newScore = updateScore(newResult,currentScore)
        display.textContent = "Player " + newScore[0] + " Computer: " + newScore[1] 
        currentScore = newScore
        console.log("Current Score: ", currentScore)

            if (newScore[0]=== 5){
                display.textContent += '\r\n' + "The Player Has Won"
                currentScore = [0,0]
            }
            if (newScore[1] === 5){
                display.textContent += '\r\n' + "The Computer Has Won"
                currentScore = [0,0]
            }

     })
    })

    //Get the computers choice, random choice between Rock, Paper, or Scissors
    function getComputerChoice(){
        let options = ['rock', 'paper', 'scissors'];
        let index = Math.round(Math.random()*2);
        console.log(options[index])
        return options[index]
    }
 
    //Play a single round of Rock, Paper, Scissors
    function playRound(player ,computer){
        //Rock beats scissors
        //Scissors beats paper
        //Paper beats rock
        console.log("Player Selection: ", player)
        console.log("Computer Selection: ", computer)
        
        //Check if result is a tie
        if (computer === player){
            //display.textContent = "Tie. You and the computer selected " + player + '\n'
            return 0
        }
        else{
            //Check if player wins
            if((computer === 'scissors') && (player === 'rock')){
                //display.textContent = "You Win! " + player + " beats " + computer + '\n'
                return 1
            }
            else if ((computer === 'paper') && (player === 'scissors')){
                //display.textContent = "You Win! " + player + " beats " + computer + '\n'
                return 1
            }
            else if ((computer === 'rock') && (player === 'paper')){
                //display.textContent = "You Win! " + player + " beats " + computer + '\n'
                return 1
            }
            else{
                //display.textContent = "You Lose! " + computer + " beats " + player + '\n'
                return 2
            }

        } 
        
    }
    function updateScore(newResult,score){
        if (newResult === 1){
            score[0] += 1;
        }
        else if (newResult === 2){
            score[1] += 1;
        }
        return score

    }

</script>
</html>