<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <title>Rock Paper Scissor's game</title>
  </head>

  <body>


</body>

<script>
    //Get the computers choice, random choice between Rock, Paper, or Scissors
    function getComputerChoice(){
        let options = ['rock', 'paper', 'scissors'];
        let index = Math.round(Math.random()*2);
        console.log(options[index])
        return options[index]
    }
    //Have the player enter their selection by prompt
    function getPlayerSelection(){
        let playerSelection = prompt("Enter Rock, or Paper, or Scissors");
        return playerSelection.toLowerCase()
    }
    //Play a single round of Rock, Paper, Scissors
    function playRound(player ,computer){
        //Rock beats scissors
        //Scissors beats paper
        //Paper beats rock
     
        //Check if result is a tie
        if (computer === player){
            console.log("Tie. You and the computer selected " + player)
            return 0
        }
        else{
            //Check if player wins
            if((computer === 'scissors') && (player === 'rock')){
                console.log("You Win! " + player + " beats " + computer)
                return 1
            }
            else if ((computer === 'paper') && (player === 'scissors')){
                console.log("You Win! " + player + " beats " + computer)
                return 1
            }
            else if ((computer === 'rock') && (player === 'paper')){
                console.log("You Win! " + player + " beats " + computer)
                return 1
            }
            else{
                console.log("You Lose! " + computer + " beats " + player)
                return 2
            }

        } 
    }
    function updateScore(newResult,score){
        if (newResult === 1){
            score[0] += 1;
        }
        else if (newResult === 2){
            score[1] += 1;
        }
        return score

    }
    // 5 rounds of Rock, Paper, Scissors
    //Keeps score
    function game(){
        //score = [wins, losses]
        let score = [0,0]
        //play 5 times and update score
        for (let i=0; i<5; i++){
           score = updateScore(playRound(getPlayerSelection(), getComputerChoice()),score)
        }
        //Use score to determine winner
        if (score[0] < score[1]){
            console.log("You Lose!! Computer " + score[1] + " Player " + score[0])
        }
        else if (score[1]<score[0]){
            console.log("You Win! Player " + score[0] + " Computer " + score[1])
        }
        else{
            console.log("Tie Game. Try Again")
        }
        
    }
    //console.log(playRound(getPlayerSelection(), getComputerChoice()));
    game();

</script>
</html>